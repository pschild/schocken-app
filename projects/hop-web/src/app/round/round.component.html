<div *ngIf="roundDetails$ | async as roundDetails">
    <a href="" [routerLink]="['/attendees', roundDetails.id]">Teilnehmer bearbeiten</a>
    gestartet: {{roundDetails.datetime | date:'dd.MM.yyyy HH:mm:ss'}} Uhr

    <div>
      <a *ngIf="roundDetails.previousRoundId" href="" [routerLink]="['/round', roundDetails.previousRoundId]"><</a>
      <span>Runde {{roundDetails.roundIndex}}</span>
      <a *ngIf="roundDetails.nextRoundId" href="" [routerLink]="['/round', roundDetails.nextRoundId]">></a>
    </div>

    <hop-player-select
      *ngIf="attendeeList$ | async as attendeeList"
      [playerList]="attendeeList"
      [selectedId]="roundDetails.currentPlayerId"
      (playerChange)="onPlayerChanged($event)"
    ></hop-player-select>
</div>

<div>
  <mat-slide-toggle [checked]="isInGame$ | async" (change)="onInGameStatusChanged($event)">im Spiel</mat-slide-toggle>
  <hop-event-type-list
    *ngIf="roundEventTypes$ | async as roundEventTypes"
    [eventTypes]="roundEventTypes"
    [disableButtons]="!(isInGame$ | async)"
    (add)="onAddEvent($event)"
  ></hop-event-type-list>
</div>

<hop-round-event-list
  *ngIf="roundEvents$ | async as roundEvents"
  [roundEvents]="roundEvents"
  (remove)="onRemoveEvent($event)"
></hop-round-event-list>

<mat-expansion-panel *ngIf="roundDetails$ | async as roundDetails">
  <mat-expansion-panel-header>
    <mat-panel-title>
      JSON
    </mat-panel-title>
  </mat-expansion-panel-header>
  
  <pre>{{roundDetails | json}}</pre>
</mat-expansion-panel>